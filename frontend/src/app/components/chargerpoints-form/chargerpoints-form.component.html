<div class="form-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <h2>Nuevo punto de carga</h2>
      </mat-card-title>
      <mat-card-subtitle>
        <h3>Introduzca los datos del nuevo punto de carga</h3>
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="form" (submit)="onSubmit()">

        <mat-form-field>
          <mat-label>Dirección</mat-label>
          <input formControlName="address" matInput maxlength="100"
                 type="text" placeholder="Introduzca la dirección..." #address>
          <mat-hint align="end">{{ address.value.length }}/100</mat-hint>
          <mat-error *ngIf="form.invalid">La dirección debe tener entre 6 y 100 caracteres</mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Latitud</mat-label>
          <input formControlName="latitude" matInput maxlength="10"
                 type="text" placeholder="Introduzca la latitud...">
          <mat-error *ngIf="form.invalid">La latitud debe estar en el rango -90 y 90</mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Longitud</mat-label>
          <input formControlName="longitude" matInput maxlength="10"
                 type="text" placeholder="Introduzca la longitud...">
          <mat-error *ngIf="form.invalid">El longitud debe estar en el rango -180 y 180</mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Tipo de conector</mat-label>
          <mat-select formControlName="plugType" required>
            <mat-option *ngFor="let status of plugTypes" [value]="status">
              {{ status }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Tipo de cargador</mat-label>
          <mat-select formControlName="power" required>
            <mat-option *ngFor="let status of chargerTypes" [value]="status">
              {{ status }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Estado</mat-label>
          <mat-select formControlName="status" required>
            <mat-option *ngFor="let status of statusTypes" [value]="status">
              {{ status }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <div class="button_container">
          <button mat-raised-button color="primary" [disabled]="!form.valid">Crear</button>
          <button mat-raised-button color="warn" [routerLink]="['/chargerpoints']">Cancelar</button>
        </div>
      </form>
    </mat-card-content>

    <mat-card-footer>
      <mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>
    </mat-card-footer>
  </mat-card>
</div>
