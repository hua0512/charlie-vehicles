<div>
  <button class="fab-button" mat-fab extended color="primary" [routerLink]="'/chargerpoints/new'">
    <mat-icon>add</mat-icon>
    Nuevo punto de carga
  </button>

  <mat-card>
    <mat-card-header>
      <mat-card-title>Lista de puntos de carga</mat-card-title>
      <mat-card-subtitle>Aquí encontrarás la información sobre todos los puntos de carga</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="table-search-container">
        <div class="search-bar">
          <mat-icon>search</mat-icon>
          <input type="search" placeholder="Buscar puntos de carga..." matInput #search
                 (keyup)="applyFilter(search.value)">
        </div>
        <!--        filtro por estado-->
        <mat-form-field>
          <mat-label>Filtro por estado</mat-label>
          <mat-select placeholder="Estado" (selectionChange)="applyFilterByState($event.value)">
            <mat-option value="all">Todos</mat-option>
            <mat-option *ngFor="let status of chargerpointStatus" [value]="status">
              {{ status }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>


      <mat-divider></mat-divider>

      <table mat-table class="full-width-table" matSort aria-label="Elements">


        <!-- Id Column -->
        <ng-container matColumnDef="id">
          <th>
            <mat-header-cell *matHeaderCellDef mat-sort-header>#</mat-header-cell>
          </th>
          <td>
            <mat-cell *matCellDef="let data">{{ data.id }}</mat-cell>
          </td>
        </ng-container>

        <!-- address Column -->
        <ng-container matColumnDef="address">
          <th>
            <mat-header-cell *matHeaderCellDef mat-sort-header>Dirección</mat-header-cell>
          </th>
          <td>
            <mat-cell *matCellDef="let data">{{ data.address }}</mat-cell>
          </td>
        </ng-container>

        <!-- latitude Column -->
        <ng-container matColumnDef="latitude">
          <th>
            <mat-header-cell *matHeaderCellDef mat-sort-header>Latitud</mat-header-cell>
          </th>
          <td>
            <mat-cell *matCellDef="let data">{{ data.latitude }}</mat-cell>
          </td>
        </ng-container>


        <!-- longitude Column -->
        <ng-container matColumnDef="longitude">
          <th>
            <mat-header-cell *matHeaderCellDef mat-sort-header>Longitud</mat-header-cell>
          </th>
          <td>
            <mat-cell *matCellDef="let data">{{ data.longitude }}</mat-cell>
          </td>
        </ng-container>

        <!-- plugType Column -->
        <ng-container matColumnDef="plugType">
          <th>
            <mat-header-cell *matHeaderCellDef mat-sort-header>Tipo de enchufe</mat-header-cell>
          </th>
          <td>
            <mat-cell *matCellDef="let data">{{ data.plugType }}</mat-cell>
          </td>
        </ng-container>

        <!-- power Column -->

        <ng-container matColumnDef="power">
          <th>
            <mat-header-cell *matHeaderCellDef mat-sort-header>Potencia</mat-header-cell>
          </th>
          <td>
            <mat-cell *matCellDef="let data">{{ data.power }}</mat-cell>
          </td>
        </ng-container>

        <!-- state Column -->
        <ng-container matColumnDef="status">
          <th>
            <mat-header-cell *matHeaderCellDef mat-sort-header>Estado</mat-header-cell>
          </th>
          <td>
            <mat-cell *matCellDef="let data">{{ data.status }}</mat-cell>
          </td>
        </ng-container>

        <tr>
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        </tr>
        <tr>
          <mat-row mat-ripple *matRowDef="let data; columns: displayedColumns;"></mat-row>
        </tr>
      </table>
      <mat-paginator #paginator
                     [length]="dataSource.data.length"
                     [pageIndex]="0"
                     [pageSize]="20"
                     [pageSizeOptions]="[5, 10, 20, 50]"
                     aria-label="Select page">
      </mat-paginator>
    </mat-card-content>
    <mat-card-footer>
      <mat-progress-bar mode="indeterminate" *ngIf="isLoadingResults">
      </mat-progress-bar>
    </mat-card-footer>
  </mat-card>
</div>
